<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>SanskritVerse – Bridging Ancient Wisdom</title>

  <script src="https://unpkg.com/react@18/umd/react.development.js"></script>
  <script src="https://unpkg.com/react-dom@18/umd/react-dom.development.js"></script>
  <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>

  <link rel="preconnect" href="https://fonts.googleapis.com" />
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
  <link href="https://fonts.googleapis.com/css2?family=Noto+Serif+Devanagari:wght@400;700&family=Poppins:wght@300;400;600&display=swap" rel="stylesheet" />

  <script src="https://unpkg.com/@phosphor-icons/web"></script>

  <style>
    /* your existing CSS remains the same */
  </style>
</head>
<body>
  <div id="root"></div>

  <script type="text/babel">
    const { useState, useEffect } = React;

    const BackgroundAnimation = () => (
      <div className="background-animation">
        <span className="bg-particle">अ</span>
        <span className="bg-particle">इ</span>
        <span className="bg-particle">ॐ</span>
        <span className="bg-particle">क</span>
        <span className="bg-particle">ग</span>
        <span className="bg-particle">म</span>
      </div>
    );

    const Loader = () => (
      <div className="loader-container">
        <div className="loader">ॐ</div>
      </div>
    );

    const Header = ({ theme, toggleTheme }) => (
      <header className="header">
        <h1>SanskritVerse – Bridging Ancient Wisdom and Modern Understanding</h1>
        <button
          className="theme-toggle"
          onClick={toggleTheme}
          title={theme === "light" ? "Switch to Dark Mode" : "Switch to Light Mode"}
        >
          <i className="ph-fill ph-moon-stars"></i>
        </button>
      </header>
    );

    const Translator = ({
      sanskritText,
      setSanskritText,
      englishText,
      isLoading,
      handleTranslate,
      buttonRef,
    }) => (
      <>
        <div className="translator-container">
          <div className="panel">
            <h2>Enter Sanskrit Text</h2>
            <textarea
              value={sanskritText}
              onChange={(e) => setSanskritText(e.target.value)}
              placeholder="Type or paste Sanskrit here... (e.g., सर्वे भवन्तु सुखिनः)"
            ></textarea>
          </div>

          <div className="panel">
            <h2>English Translation</h2>
            {isLoading ? (
              <Loader />
            ) : englishText ? (
              <p className="output-content">{englishText}</p>
            ) : (
              <p className="output-placeholder">Translation will appear here...</p>
            )}
          </div>
        </div>

        <div className="controls-bar">
          <div className="icon-buttons">
            <button title="Voice Input (Sanskrit) - Feature coming soon!">
              <i className="ph ph-microphone"></i>
            </button>
            <button title="Text-to-Speech (English) - Feature coming soon!">
              <i className="ph ph-speaker-high"></i>
            </button>
          </div>
          <button
            className="translate-button"
            onClick={handleTranslate}
            disabled={isLoading || !sanskritText}
            ref={buttonRef}
          >
            {isLoading ? "Translating..." : "Translate"}
          </button>
        </div>
      </>
    );

    const AboutSection = () => (
      <section className="about-section">
        <h2>How SanskritVerse Works</h2>
        <p>
          SanskritVerse uses a state-of-the-art machine learning model (currently simulated) to provide
          real-time translations from Sanskrit to English. We focus on preserving the nuances
          and diacritics of the original text, aiming to make ancient wisdom more accessible
          to the modern world. Our platform is built with a clean, responsive, and interactive
          design to provide a seamless and enjoyable experience.
        </p>
      </section>
    );

    const Footer = () => (
      <footer className="footer">
        <nav>
          <a href="#">Privacy Policy</a>
          <a href="#">Contact</a>
          <a href="#">Contribute</a>
        </nav>
      </footer>
    );

    const App = () => {
      const [theme, setTheme] = useState("light");
      const [sanskritText, setSanskritText] = useState("");
      const [englishText, setEnglishText] = useState("");
      const [isLoading, setIsLoading] = useState(false);
      const buttonRef = React.useRef(null);

      useEffect(() => {
        document.body.dataset.theme = theme;
      }, [theme]);

      const toggleTheme = () => {
        setTheme(theme === "light" ? "dark" : "light");
      };

      const handleTranslate = () => {
        if (!sanskritText.trim()) return;
        setIsLoading(true);
        setEnglishText("");

        setTimeout(() => {
          const mockTranslation = `(Mock Translation) "May all beings be happy and prosperous."`;
          setEnglishText(mockTranslation);
          setIsLoading(false);

          if (buttonRef.current) {
            buttonRef.current.classList.add("translation-success");
            setTimeout(() => {
              if (buttonRef.current) {
                buttonRef.current.classList.remove("translation-success");
              }
            }, 1000);
          }
        }, 1500);
      };

      return (
        <>
          <BackgroundAnimation />
          <Header theme={theme} toggleTheme={toggleTheme} />
          <main>
            <Translator
              sanskritText={sanskritText}
              setSanskritText={setSanskritText}
              englishText={englishText}
              isLoading={isLoading}
              handleTranslate={handleTranslate}
              buttonRef={buttonRef}
            />
            <AboutSection />
          </main>
          <Footer />
        </>
      );
    };

    const root = ReactDOM.createRoot(document.getElementById("root"));
    root.render(<App />);
  </script>
</body>
</html>
